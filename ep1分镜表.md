# EP1 分镜表：用1%的代码复刻 Clawdbot（1/3）

> 总时长目标：6-7 分钟  
> 类型说明：**remotion动画** / **remotion PPT**（简约排版） / **录频** / **截图**（可多选）  
> **需要准备的素材**：该镜头所需截图、图标、录屏、文案等，便于前期统一准备。

---

| # | 逐字稿 | 时间 | 类型 | 画面描述 | 需要准备的素材 |
|---|--------|------|------|----------|----------------|
| 1 | 看这个项目——Clawdbot，现在改名叫 OpenClaw。 | 0:00-0:08 | remotion PPT | 居中大字标题「Clawdbot → OpenClaw」，副标题淡入；深色背景，代码感字体。 | 无（纯 Remotion 文案） |
| 2 | 最近在 AI Agent 圈子里非常火。它能接 WhatsApp、Telegram、Slack，能自己发邮件、跑命令、管日历，带持久记忆，还能学新技能。代码量是数十万行级别。 | 0:08-0:22 | remotion动画 + 截图 | 左侧：GitHub 仓库卡片/截图缓入；右侧：图标条（WhatsApp/Telegram/Slack/邮件/日历）逐个点亮；底部小字「数十万行」数字滚动动画。 | Clawdbot/OpenClaw GitHub 仓库页截图；WhatsApp / Telegram / Slack / 邮件 / 日历图标（SVG 或 PNG）；仓库代码行数数据（可选） |
| 3 | 但今天我不是来带你读源码的——几十万行，读完黄花菜都凉了。 | 0:22-0:28 | remotion PPT | 一句话居中，关键词「几十万行」「黄花菜都凉了」用颜色或下划线强调；可加轻微打字机或淡入。 | 无 |
| 4 | 我要做的事情是：用大概1%的代码量，把 Clawdbot 的核心架构复刻出来。 | 0:28-0:38 | remotion动画 | 「1%」大字号弹出或缩放强调；从「100%」条形/圆环动画收缩到「1%」；副文案「核心架构复刻」淡入。 | 无 |
| 5 | 这个精简版叫 **NanoBot**。几千行代码，但 Clawdbot 最关键的能力——多通道接入、主动执行任务、声明式技能、分层上下文——全都保留了。 | 0:38-0:52 | remotion PPT | 标题「NanoBot」居中；下方四点能力以简约卡片或列表逐条浮现（多通道 / 主动执行 / 声明式技能 / 分层上下文），每项带小图标。 | 基于Lucide-react |
| 6 | 看，这是它在凌晨三点，没有任何人发消息的情况下，自己醒来，读了任务清单，跑了命令，把日报推到了 Telegram。 | 0:52-1:05 | 录频 + remotion动画 | 真实或模拟终端录屏：时间显示 03:00，一条 cron/任务触发日志，接着「日报已生成并推送到频道」；画面上可叠加 Remotion 做的「凌晨 3 点」「无人触发」标签动画。 | Remotion PPT动画实现 |
| 7 | 你可能说——这不就是 cron job 吗？不一样。cron job 数据源挂了就直接报错退出。这个 Agent 会自己判断：换个 API 试试；还不行，就先把能拿到的部分整理好，告诉你「这块数据今天缺了，我明天再补」。 | 1:05-1:28 | remotion动画 | 左右分屏：左「cron」→ 报错退出（红色叉）；右「Agent」→ 分支：换 API → 再不行 → 部分结果 + 提示「明天再补」（绿色/黄色）。用简单流程图或状态节点动画。 | 无（流程图用 Remotion 绘制） |
| 8 | 今天第一集，我们先搞清楚一个根本问题：Clawdbot 类架构的 Agent，为什么看起来「智能」？ | 1:28-1:38 | remotion PPT | 问题句居中大字，副标题「第一集」；「智能」二字可高亮或轻微动效。 | 无 |
| 9 | 我们先把 Clawdbot 这类 Agent 和你平时用的 ChatBot 做个对比，你就能直观感受到差距。 | 1:38-1:48 | remotion PPT | 标题「Agent vs ChatBot」；下方留白为后续对比表做铺垫，或先出现「推理 / 主动性 / 扩展性」三个维度标签。 | 无 |
| 10 | 第一个维度，推理能力。 | 1:48-1:52 | remotion动画 | 「推理能力」标签高亮，其余维度灰；或从表格中第一行亮起。 | 无 |
| 11 | ChatBot 是**单轮问答**：你问 A，它答 B，完事了。NanoBot 是**多轮循环**——它会想一步、做一步、看结果、再想下一步。这个循环可以跑很多轮，直到任务真的完成。 | 1:52-2:12 | remotion动画 | 左：单轮箭头 问→答→结束；右：循环图「想→做→看→再想」箭头循环转动，可多圈；中缝标注「单轮 vs 多轮」。 | 无（箭头与节点用 Remotion 绘制） |
| 12 | 举个例子。你让它「帮我查一下昨天 GitHub 上有没有新 issue」。一个普通 ChatBot 只能说「我没有访问 GitHub 的能力」。但 NanoBot 会这样做： | 2:12-2:25 | remotion PPT | 用户气泡「查昨天 GitHub 新 issue」；ChatBot 气泡「我没有访问 GitHub 的能力」灰色；NanoBot 侧留出或箭头指向下一镜。 | 无 |
| 13 | 先调用 Shell 工具跑 `gh issue list`，拿到结果；然后读一遍——发现有三个新 issue；接着它会判断：要不要帮用户总结一下？要不要按优先级排个序？最后才把整理好的结果发给你。 | 2:25-2:45 | remotion动画 | 步骤条：① 跑 `gh issue list` ② 读结果「3 个 issue」③ 判断总结/排序 ④ 发结果；每步依次高亮，配简单终端或代码块动画。 | Remotion实现：`gh issue list` 真实输出截图或模拟终端片段 |
| 14 | 这个过程可能走了三四轮「想→做→看→再想」的循环。**这就是 Agent 和 ChatBot 的第一个本质区别——它不是一次调用就结束，而是能迭代、能纠错。** | 2:45-2:58 | remotion动画 | 循环图再强调一次，标注「3–4 轮」；底部金句「能迭代、能纠错」淡入或打字效果。 | 无 |
| 15 | 第二个维度，主动性。 | 2:58-3:02 | remotion动画 | 「主动性」维度高亮，表格或标签切换。 | 无 |
| 16 | ChatBot 是**被动**的——你不说话，它就不动。NanoBot 是**主动**的——你可以给它设一个心跳周期，比如每 30 分钟检查一次任务清单；也可以设定时任务，比如每天早上 9 点发日报。**不需要你一直盯着它。** | 3:02-3:22 | remotion动画 | 左「被动」：人没说话，界面灰暗静止；右「主动」：心跳图标跳动、钟表 9:00、日报发出；「不需要你一直盯着」文字强调。 | 心跳图标、钟表/9:00 图标；可选：日报推送的简单界面截图 |
| 17 | 第三个维度，扩展性。 | 3:22-3:26 | remotion动画 | 「扩展性」维度高亮。 | 无 |
| 18 | ChatBot 的能力是写死在代码里的。你想让它多做一件事，得改代码、重新部署。NanoBot 不一样——你只需要写一份 Markdown 文档，描述这个技能是什么、怎么用、依赖什么工具，扔到指定目录下，它就学会了。 | 3:26-3:48 | remotion动画 | 左：代码块 + 改代码 + 部署箭头；右：Markdown 文档飞入文件夹，技能图标+1；对比「写死」vs「写文档即学会」。 | 代码块示例图或占位文案；Markdown / 文件夹 / 技能图标 |
| 19 | **这三件事加在一起——会推理、会主动、会扩展——就是 NanoBot 智能的来源。** | 3:48-3:58 | remotion PPT | 三句并列居中：会推理 / 会主动 / 会扩展；底部「智能的来源」总结句，简约排版。 | 无 |
| 20 | 但是，光说「智能」太抽象了。我们来看看 Clawdbot 类架构的 Agent 运行的时候，到底在「看什么」。 | 3:58-4:08 | remotion PPT | 过渡句居中；「看什么」可做轻微动效，引出下一段 Workspace。 | 无 |
| 21 | 这就要聊到一个关键概念——**Workspace，工作区**。这是 Clawdbot 架构的核心设计之一，NanoBot 完整保留了它。 | 4:08-4:18 | remotion PPT | 标题「Workspace · 工作区」大字；副标题「Agent 的办公桌」或「核心设计」。 | 无 |
| 22 | 你可以把 Workspace 理解成 Agent 的「办公桌」。上面放着它需要的所有东西：它的人格设定、行为规范、它对你的了解、长期记忆、可以用的技能清单，甚至还有一个待办事项文件。 | 4:18-4:32 | remotion动画 | 桌面/工作台隐喻图：桌面上多个「文件/盒子」图标，标签为人格、规范、用户了解、记忆、技能、待办；逐个亮起或轻弹入。 | 桌面/办公桌底图（可选）；6 个标签对应的小图标 |
| 23 | 具体来说，Workspace 是一个目录，通常在 `~/.nanobot/workspace`，结构长这样： | 4:32-4:40 | remotion动画 | 从根目录图标展开为目录树，路径 `~/.nanobot/workspace` 高亮。 | 无（目录树用 Remotion 绘制）；或真实 `workspace` 目录结构清单供对照 |
| 24 | 最上面几个文件是「常驻文件」——**每次对话都会被完整加载到 System Prompt 里**： | 4:40-4:48 | remotion PPT | 小标题「常驻文件」+ 说明「每次对话 → System Prompt」；列表准备展开。 | 无 |
| 25 | `SOUL.md`：Agent 的人格和价值观，比如「你是一个高效、友好的技术助手」 / `AGENTS.md`：行为规范，比如「遇到不确定的事先确认，不要瞎猜」 / `USER.md`：用户信息和偏好，比如「用户喜欢简洁的回复，不要废话」 | 4:48-5:08 | remotion动画 | 目录树中 SOUL.md、AGENTS.md、USER.md 逐行高亮，右侧或下方浮出简短说明与例句；可配小图标。 | 三个文件的真实内容片段或拟定文案（用于浮出说明） |
| 26 | 然后是记忆层：`memory/MEMORY.md`：长期记忆，这不是写死的配置文件——**Agent 自己会往里面写东西**。比如你说「以后周报只要摘要就行」，它会自己把这条信息写进 MEMORY.md。`memory/HISTORY.md`：事件日志，Agent 不会每次都读，而是需要的时候用 grep 去查。 | 5:08-5:28 | remotion动画 | memory 文件夹展开，MEMORY.md 与 HISTORY.md 高亮；MEMORY 旁可做「Agent 写入」小动画；HISTORY 旁标注「按需 grep」。 | MEMORY.md、HISTORY.md 示例内容或占位文案 |
| 27 | 最后是技能目录 `skills/`——每个技能是一个子目录，里面放一个 `SKILL.md`。 | 5:28-5:36 | remotion动画 | skills/ 展开，2–3 个技能子目录，每个内含 SKILL.md 图标；可轻量展开一个为例。 | 真实 skills 目录下的 2–3 个技能名（或示例名）；SKILL.md 图标 |
| 28 | 这些文件，在每次对话开始时，会按照固定的顺序，被拼装成一条 System Prompt 发给大模型。这就是为什么 Agent 能「记住」你是谁、知道自己该怎么做、知道有哪些技能可以用。 | 5:36-5:52 | remotion动画 | 多个文件图标沿箭头汇聚到一个「System Prompt」节点，再指向「LLM」；可带简单顺序编号 1→2→3。 | 文件图标（可与前文复用）；LLM/大模型 logo（可选） |
| 29 | **Workspace 就是 Agent 的上下文来源。它的智能程度，很大程度上取决于这个 Workspace 设计得好不好。** | 5:52-6:02 | remotion PPT | 金句居中；「上下文来源」「设计得好不好」可加粗或颜色强调。 | 无 |
| 30 | 好，现在你知道了 Agent 的「办公桌」长什么样。那当你发一条消息给它，整个流程是怎么走的？我们来走一遍「一条消息的一生」。 | 6:02-6:15 | remotion PPT | 标题「一条消息的一生」；副标题或图示预留五步：进入→会话→上下文→循环→退出。 | 无 |
| 31 | **第一步，进入。** 你在 Telegram 上发了一条消息。这条消息被 Telegram 的适配层接收，转成统一格式，放进消息队列。 | 6:15-6:25 | remotion动画 | 序列图第一步高亮：用户 → Telegram → 适配层 → 消息队列；消息气泡或数据块移动动画。 | Telegram 图标或界面剪影；适配层/队列的简单图形（可 Remotion 绘制） |
| 32 | **第二步，会话。** 系统根据 session key 查找或创建一个会话，把历史对话加载出来。 | 6:25-6:34 | remotion动画 | 序列图第二步高亮：session key → 会话存储 → 历史加载；可简化为一个「会话」盒子被打开。 | 无 |
| 33 | **第三步，上下文。** 核心步骤来了——系统按照分层策略拼 System Prompt。就是刚才说的：先放身份信息，再放行为规范、人格、用户信息，接着是长期记忆，最后是技能。然后把历史对话和你刚发的消息拼上去，一起发给 LLM。 | 6:34-6:52 | remotion动画 | 分层堆叠动画：身份→规范→人格→用户→记忆→技能→历史→新消息，叠成一条发给 LLM；「拼装」可用拼接或组合动效。 | 各层标签文案（可与 Workspace 段一致） |
| 34 | **第四步，循环。** LLM 回复了。如果回复里包含 tool calls——比如它想读个文件或者跑个命令——系统就执行工具，把结果塞回对话，再调一次 LLM。这个循环可以走很多轮，直到 LLM 给出最终回复。 | 6:52-7:10 | remotion动画 | 序列图中「LLM ↔ 工具执行」循环部分高亮、箭头往复；标注「多轮」或 N 次。 | 无 |
| 35 | **第五步，退出。** 保存会话，把回复通过 Telegram 发回给你。 | 7:10-7:16 | remotion动画 | 序列图第五步：保存会话 → Telegram → 用户；流水线收尾。 | 可与镜 31 复用 Telegram 素材 |
| 36 | 注意，最关键的是第四步——那个「想→做→看→再想」的循环。这就是 Agent 跟普通 ChatBot 最大的区别。**ChatBot 只走一轮，Agent 走 N 轮。** | 7:16-7:28 | remotion动画 | 整条流水线中「循环」段单独高亮或放大；对比「1 轮」vs「N 轮」标签。 | 无 |
| 37 | 而且，这条管线不只服务用户消息。**心跳任务、定时任务、子任务回报**——所有触发源最终都走这同一条路。这意味着不管是你发消息让它做事，还是它自己到点醒来干活，**执行逻辑完全一致**。 | 7:28-7:45 | remotion动画 | 多个入口（用户消息 / 心跳 / 定时 / 子任务）汇聚到同一条管线；「同一条路」「执行逻辑一致」文字强调。 | 四个触发源的小图标（消息、心跳、闹钟、子任务） |
| 38 | 好，我们快速回顾一下。 | 7:45-7:48 | remotion PPT | 标题「回顾」简约出现。 | 无 |
| 39 | Clawdbot 类 Agent 之所以「智能」，不是因为它用了什么魔法模型，而是因为它在**架构层面**做了四件事：**会推理**——多轮思考-行动循环，能迭代、能纠错。**会主动**——心跳和定时任务，没人说话也能干活。**会扩展**——Skill 声明式技能系统，写文档就能教它新能力。**看得准**——分层上下文工程，让模型每次都能看到该看的信息。 | 7:48-8:08 | remotion PPT + remotion动画 | 四行并列：会推理 / 会主动 / 会扩展 / 看得准；每行简短解释；可逐条飞入或打勾动画，与开场对比表呼应。 | 四件事对应图标（可与前文复用）；打勾或高亮素材（可 Remotion 绘制） |
| 40 | 而 NanoBot 用1%的代码量把这四件事全部跑通了。 | 8:08-8:14 | remotion PPT | 「1% 代码 · 四件事全跑通」居中；可与开场「1%」形成首尾呼应。 | 无 |
| 41 | 但是，「会主动」和「会扩展」这两个点，今天只是点到为止。下一集，我会深入拆解 **Proactive 主动执行机制**和 **Skill 技能系统**——心跳到底怎么唤醒 Agent？定时任务是怎么持久化和调度的？一个 Skill 从被发现到被使用，中间经历了什么？**这是最有意思的部分。我们下集见。** | 8:14-8:35 | remotion PPT + remotion动画 | 下集预告：左侧「Proactive」右侧「Skill」两个模块；下列 3 个问题逐条出现；结尾「我们下集见」+ 订阅/关注提示（若有）。 | Proactive / Skill 模块标题或 logo；3 个问题的定稿文案；可选：下集封面图或订阅按钮图 |

---

## 类型与节奏说明

- **remotion 动画**：流程图、对比图、目录树、序列图、循环强调等，尽量用动画强化理解。
- **remotion PPT**：金句、小节标题、列表、回顾与预告，用简约排版避免枯燥。
- **录频**：仅开场「凌晨 3 点」一段建议真实或高度仿真的终端/Telegram 画面。
- **截图**：仅在需要真实 GitHub/产品界面时使用，与 remotion 动画结合。

总镜头约 41 个，总时长约 8:35；成片可压到 6–7 分钟时，将相邻短镜合并或略加速旁白。
